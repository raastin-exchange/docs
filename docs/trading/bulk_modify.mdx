---
sidebar_position: 6
sidebar_label: ویرایش دسته‌ای سفارش‌ها
---

# ویرایش دسته‌ای سفارش‌ها

<div dir="ltr" style={{textAlign: 'left'}}>

    POST /api/v1/market/orders/bulk-modify

</div>

:::info توضیح

این API برای ویرایش چندین سفارش به صورت همزمان استفاده می‌شود. می‌توانید تا 100 سفارش را در یک درخواست ویرایش کنید.

:::

## پارامترهای درخواست

| نام پارامتر | نوع   | اجباری | توضیح                                  |
| ----------- | ----- | ------ | -------------------------------------- |
| orders      | Array | بله    | لیست سفارش‌ها برای ویرایش (حداکثر 100) |

**ساختار هر عنصر در orders:**

| نام پارامتر     | نوع    | اجباری | توضیح                                | مثال         |
| --------------- | ------ | ------ | ------------------------------------ | ------------ |
| order_id        | String | شرطی   | شناسه سفارش (یکی الزامی)             | "1234567"    |
| client_order_id | String | شرطی   | شناسه سفارش توسط کلاینت (یکی الزامی) | "my-id-123"  |
| price           | String | خیر    | قیمت جدید                            | "3600000000" |
| amount          | String | خیر    | مقدار جدید                           | "0.002"      |
| unfilled_amount | String | خیر    | مقدار باقیمانده جدید                 | "0.0015"     |
| trigger_price   | String | خیر    | قیمت تریگر جدید                      | "3550000000" |

## درخواست

```json
{
  "orders": [
    {
      "order_id": "1234567",
      "price": "3600000000"
    },
    {
      "client_order_id": "my-order-2",
      "amount": "0.002",
      "price": "3580000000"
    },
    {
      "order_id": "1234569",
      "unfilled_amount": "0.0015"
    }
  ]
}
```

## ساختار پاسخ

| نام پارامتر | نوع    | توضیحات                        |
| ----------- | ------ | ------------------------------ |
| summary     | Object | خلاصه نتیجه عملیات             |
| results     | Array  | نتیجه هر سفارش به صورت جداگانه |

**ساختار summary:**

| نام پارامتر | نوع     | توضیحات                   |
| ----------- | ------- | ------------------------- |
| total       | Integer | تعداد کل سفارش‌های ارسالی |
| successful  | Integer | تعداد سفارش‌های موفق      |
| failed      | Integer | تعداد سفارش‌های ناموفق    |

**ساختار هر عنصر در results:**

| نام پارامتر | نوع     | توضیحات                                   |
| ----------- | ------- | ----------------------------------------- |
| success     | Boolean | آیا ویرایش موفق بود                       |
| order       | Object  | اطلاعات سفارش ویرایش شده (در صورت موفقیت) |
| error       | String  | پیام خطا (در صورت عدم موفقیت)             |

## پاسخ

```json
{
  "summary": {
    "total": 3,
    "successful": 2,
    "failed": 1
  },
  "results": [
    {
      "success": true,
      "order": {
        "id": "1234567",
        "symbol": "BTCIRT",
        "amount": "0.001",
        "price": "3600000000",
        "side": "buy",
        "status": "PENDING"
      }
    },
    {
      "success": true,
      "order": {
        "id": "1234568",
        "symbol": "BTCIRT",
        "amount": "0.002",
        "price": "3580000000",
        "side": "buy",
        "status": "PENDING"
      }
    },
    {
      "success": false,
      "error": "Order not found",
      "order_id": "1234569"
    }
  ]
}
```

:::tip نکات مهم

- حداکثر 100 سفارش در یک درخواست
- هر سفارش به صورت مستقل ویرایش می‌شود
- اگر یک سفارش با خطا مواجه شود، بقیه همچنان پردازش می‌شوند
- فیلد `summary` خلاصه‌ای از نتیجه کل عملیات را نشان می‌دهد

:::
